<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz SPFC</title>

    <link rel="icon" href="./Imagens/simbolo.jpg">
    <link rel="stylesheet" href="./css/votação.css">
</head>

<body>
    <div class="container">
        <div class="row">
            <div class="two-thirds column">
                <h2>Quiz Tricolor</h2>

                <div id="progress_bar"></div>
                <div class="questions_box">

                    <div id="question-1">
                        <h2>Questão 1</h2>
                        <h3>Qual o treinador que conquistou os três Brasileiros Consecutivos pelo São Paulo?</h3>
                        <input id="question-1-answer-a" type="radio" name="favelang" value="0">Rogerio Ceni<br>
                        <input id="question-1-answer-b" type="radio" name="favelang" value="0">Tele Santana<br>
                        <input id="question-1-answer-c" type="radio" name="favelang" value="2">Muricy Ramalho<br>
                        <div id="submit1" class="button">Enviar Resposta</div>
                        <div class="clearfix"></div>
                    </div>

                    <div id="question-2">
                        <h2>Questão 2</h2>
                        <h3>No último Mundial em que o São Paulo foi campeão, quem fez o gol do título?</h3>
                        <input id="question-2-answer-a" type="radio" name="favelang" value="0">Amoroso<br>
                        <input id="question-2-answer-b" type="radio" name="favelang" value="2">Mineiro<br>
                        <input id="question-2-answer-c" type="radio" name="favelang" value="0">Aloísio<br>
                        <div id="submit2" class="button">Enviar Resposta</div>
                        <div class="clearfix"></div>
                    </div>

                    <div id="question-3">
                        <h2>Questão 3</h2>
                        <h3>Quem é o maior artilheiro da história do SPFC?</h3>
                        <input id="question-3-answer-a" type="radio" name="favelang" value="0">Luis Fabiano<br>
                        <input id="question-3-answer-b" type="radio" name="favelang" value="2">Serginho Chulapa<br>
                        <input id="question-3-answer-c" type="radio" name="favelang" value="0">Rai<br>
                        <div id="submit3" class="button">Enviar Resposta</div>
                        <div class="clearfix"></div>
                    </div>

                    <div id="question-4">
                        <h2>Questão 4</h2>
                        <h3>Quais foram os adversários do São Paulo nos Mundiais em que o São Paulo foi campeão?</h3>
                        <input id="question-1-answer-a" type="radio" name="favelang" value="0">Real Madrid, Milan e
                        Manchester United<br>
                        <input id="question-1-answer-b" type="radio" name="favelang" value="2">Barcelona, Milan e
                        Liverpool<br>
                        <input id="question-1-answer-c" type="radio" name="favelang" value="0">Real Madrid, Milan e
                        Liverpool<br>
                        <div id="submit4" class="button">Enviar Resposta</div>
                        <div class="clearfix"></div>
                    </div>

                    <div id="question-5">
                        <h2>Questão 5</h2>
                        <h3>Qual o significado das 3 estrelas vermelhas no simbolo do São Paulo ?</h3>
                        <input id="question-1-answer-a" type="radio" name="favelang" value="0">3 Libertadores<br>
                        <input id="question-1-answer-b" type="radio" name="favelang" value="2">3 Mundiais de Clubes<br>
                        <input id="question-1-answer-c" type="radio" name="favelang" value="0">3 Campeonatos
                        Brasileiros<br>
                        <div id="submit5" class="button">Enviar Resposta</div>
                        <div class="clearfix"></div>
                    </div>

                    <div id="question-6">
                        <h2>Obrigado por responder a pesquisa!, Para realizar uma votação cadastre no nosso site!</h2>
                        <h3>Sua pontuação foi: </h3>
                        <h1 id=printtotalscore></h1>
                        <p id=printscoreinfo></p>

                        <button onclick="vai()" class="button">Realizar Cadastro</button>

                    </div>
                </div>

            </div>
        </div>
    </div>

</body>

</html>
<script>
    // inovacoes arq comp

    // funcoes requisito
    function vai() {
        window.location = "cadastro.html";
    }

    // vetor requisito
    var answers = [];

    // variaveis requisitos
    var question_one = document.getElementById('question-1');
    var question_two = document.getElementById('question-2');
    var question_three = document.getElementById('question-3');
    var question_four = document.getElementById('question-4');
    var question_five = document.getElementById('question-5');

    function storeAnswer(question_number, event) {
        if (event.target.type === 'radio') {
            console.log(event.target.value);
            answers['question' + question_number] = parseInt(event.target.value);
            console.log(answers);
        }
    }

    question_one.addEventListener('click', function (event) {
        storeAnswer(1, event)
    })
    question_two.addEventListener('click', function (event) {
        storeAnswer(2, event)
    })
    question_three.addEventListener('click', function (event) {
        storeAnswer(3, event)
    })
    question_four.addEventListener('click', function (event) {
        storeAnswer(4, event)
    })
    question_five.addEventListener('click', function (event) {
        storeAnswer(5, event)
    })

    function totalScore() {
        var total_score =
            answers.question1 +
            answers.question2 +
            answers.question3 +
            answers.question4 +
            answers.question5;

        return total_score;
    }

    function getInfoBasedOnScore() {
        // condicionais requisitos 
        if (totalScore() <= 4) {
            var score_info = "Aiiii Nãoo! precisa estudar mais sobre o nosso Tricolor!"
        } else if (totalScore() >= 6) {
            var score_info = "Parabéns! Você conhece muito o nosso Tricolor!"
        }

        return score_info;
    }

    var submit1 = document.getElementById('submit1');
    var submit2 = document.getElementById('submit2');
    var submit3 = document.getElementById('submit3');
    var submit4 = document.getElementById('submit4');
    var submit5 = document.getElementById('submit5');

    function nextQuestion(question_number) {
        var current_question_number = question_number - 1;
        var question_number = question_number.toString();
        var current_question_number = current_question_number.toString();

        var el = document.getElementById('question-' + question_number);
        var el2 = document.getElementById('question-' + current_question_number);

        el.style.display = "block";
        el2.style.display = "none";
    }

    submit1.addEventListener('click', function () {
        nextQuestion(2);
        growProgressBar('40%');
    })
    submit2.addEventListener('click', function () {
        nextQuestion(3);
        growProgressBar('60%');
    })
    submit3.addEventListener('click', function () {
        nextQuestion(4);
        growProgressBar('80%');
    })
    submit4.addEventListener('click', function () {
        nextQuestion(5);
        growProgressBar('100%');
    })
    submit5.addEventListener('click', function () {
        nextQuestion(6);
    })

    submit5.addEventListener('click', function () {
        document.getElementById("printtotalscore").innerHTML = totalScore();
        document.getElementById("printscoreinfo").innerHTML = getInfoBasedOnScore();
    })

    function growProgressBar(percentage_width) {
        var bar = document.getElementById("progress_bar");
        bar.style.width = percentage_width;
    }
</script>

<script>

</script>